@model List<WebCrudApp.Models.Client.ClientViewModel>

<h2>Müşteri İşlemleri</h2>
<form method="post">
    <!-- GİZLİ ID -->
    <input type="hidden" name="logicalRef" id="logicalRef" />
    <div class="form-group">
        <label>CODE:</label>
        <input type="text" class="form-control" id="code" name="CODE" value="@ViewBag.Code" placeholder="000" />
        <small id="codeHelp" class="form-text text-muted">Code must be unique, please check the list.</small>
    </div>
    <div class="form-group">
        <label>DEFINITION:</label>
        <input type="text" class="form-control" id="definition" name="DEFINITION_" placeholder="Name of the Client" value="@ViewBag.Definition" />
        <small id="nameHelp" class="form-text text-muted">Please enter the Name of Client.</small>
    </div>

    <br />

    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <strong>Lütfen yapacağınız işlemi seçin:</strong>
    </div>


    <button type="submit" formaction="/Client/Index" class="btn btn-primary">Listele</button>
    <button type="submit" formaction="/Client/Create" class="btn btn-outline-success">Ekle</button>
    <button type="submit" formaction="/Client/Index" class="btn btn-secondary">Bul</button>
    <button type="submit" formaction="/Client/Update" class="btn btn-outline-warning" >Güncelle</button>
    <button type="submit" formaction="/Client/Delete" class="btn btn-outline-danger">Sil</button>

</form>

<hr />

<div style="max-height: 500px; overflow-y: auto; border: 1px">
        <table class="table table-hover" border="1" style=" border-collapse: collapse;">
            <thead>
                <tr>
                <th scope="col">LOGICALREF</th>
                <th scope="col">CODE</th>
                <th scope="col">DEFINITION</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                     {
                    <tr class="rowSelect"
                    data-id="@item.LOGICALREF"
                    data-code="@item.CODE"
                    data-def="@item.DEFINITION_">
                    <td>@item.LOGICALREF</td>
                    <td>@item.CODE</td>
                    <td>@item.DEFINITION_</td>
                    </tr>
                    }

            </tbody>


        </table>
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<script>
    $(document).on("click", ".rowSelect", function () {

        $(".rowSelect").removeClass("table-active");
        $(this).addClass("table-active");

        $("#logicalRef").val($(this).data("id"));
        $("#code").val($(this).data("code"));
        $("#definition").val($(this).data("def"));

    });


</script>